(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(t,e,n){t.exports=n(386)},155:function(t,e,n){},202:function(t,e,n){},235:function(t,e){},237:function(t,e){},262:function(t,e){},278:function(t,e){},280:function(t,e){},311:function(t,e){},386:function(t,e,n){"use strict";n.r(e);var a=n(7),s=n.n(a),o=n(144),i=n.n(o),r=(n(155),n(15)),p=n.n(r),c=n(27),u=n(145),l=n(146),y=n(147),d=n(148),m=n(150),b=n(48),f=n(58),h=(n(202),n(59)),v=n.n(h),w=n(60),k=n.n(w),x=function(t){function e(){var t;Object(u.a)(this,e),(t=Object(y.a)(this,Object(d.a)(e).call(this))).onMint=Object(c.a)(p.a.mark(function e(){var n,a,s,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,a=t.attachToContract(),s=t.state&&t.state.acc,e.next=5,t.getNFTTotalSupply();case 5:o=t.state&&t.state.totalSupply,a.methods.mint(s,parseInt(o)+1).send({from:s}).on("transactionHash",function(e){return t.checkTxMined(e,n,t.pollingReceiptCheck)});case 7:case"end":return e.stop()}},e,this)})),t.pollingReceiptCheck=function(e,n,a){n||(a&&a.blockNumber?(n=!0,t.getNFTBalance()):(t.repeatPolling(e),setTimeout(function(){return t.checkTxMined(e,n,t.pollingReceiptCheck)},1e3)))},t.repeatPolling=function(t){console.log("".concat(t," is still pending. Polling of transaction once more"))},t.checkTxMined=function(){var e=Object(c.a)(p.a.mark(function e(n,a,s){var o,i,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(b.a)(Object(b.a)(t)),i=o.web3,e.next=3,i.eth.getTransactionReceipt(n);case 3:(r=e.sent)&&r.blockHash&&console.log("transaction mined",r),s(n,a,r);case 6:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}();var n=window.web3;return t.abi=k.a.abi,n="undefined"!==typeof n?new v.a(n.currentProvider):new v.a(new v.a.providers.HttpProvider("http://localhost:8545")),t.web3=n,t}var n,a,o,i,r;return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:(r=Object(c.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountAddress();case 2:this.getContractAddress(),this.getNFTSymbol(),this.getNFTBalance();case 5:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"getContractAddress",value:function(){var t=new URLSearchParams(this.props.location.search).get("contract"),e=this.web3.utils.isAddress(t)&&t||k.a.address;this.setState({contractAddress:e})}},{key:"attachToContract",value:function(){return new this.web3.eth.Contract(k.a.abi,this.state.contractAddress)}},{key:"getNFTBalance",value:(i=Object(c.a)(p.a.mark(function t(){var e,n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.attachToContract(),!this.state){t.next=6;break}return t.next=4,e.methods.balanceOf(this.state.acc).call();case 4:n=t.sent,this.setState({balance:n});case 6:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"getNFTSymbol",value:(o=Object(c.a)(p.a.mark(function t(){var e,n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.attachToContract(),!this.state){t.next=6;break}return t.next=4,e.methods.symbol().call();case 4:n=t.sent,this.setState({symbol:n});case 6:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"getNFTTotalSupply",value:(a=Object(c.a)(p.a.mark(function t(){var e,n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.attachToContract(),!this.state){t.next=6;break}return t.next=4,e.methods.totalSupply().call();case 4:n=t.sent,this.setState({totalSupply:n});case 6:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"getAccountAddress",value:(n=Object(c.a)(p.a.mark(function t(){var e;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.web3,!t.t0){t.next=5;break}return t.next=4,this.web3.eth.getAccounts();case 4:t.t0=t.sent;case 5:e=t.t0,this.setState({acc:e&&e[0]});case 7:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this,e="https://sokol.blockscout.com/address/".concat(this.state&&this.state.contractAddress);return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-intro"},s.a.createElement(f.Container,null,s.a.createElement(f.Card,{className:"blue darken-4",textClassName:"white-text"},"Balance of ",this.state&&this.state.acc," is ",s.a.createElement("h5",null,this.state&&this.state.balance," ",s.a.createElement("a",{href:e,target:"_blank"},this.state&&this.state.symbol))),s.a.createElement("div",null,s.a.createElement(f.Button,{waves:"light",onClick:function(){return t.onMint()}},"Mint")))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=n(388),M=n(389);i.a.render(s.a.createElement(g.a,null,s.a.createElement(M.a,{path:"/",component:x})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},60:function(t,e){t.exports={address:"0xae0ee9fd7e7c5084d56a03db56eef83dfde3cf39",abi:[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"mintWithTokenURI",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]}}},[[151,2,1]]]);
//# sourceMappingURL=main.d79e2d31.chunk.js.map